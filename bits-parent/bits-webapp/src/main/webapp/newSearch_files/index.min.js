$(document).ready(function(){var isLike=$("#hidIsLike").val()=="1";var time=setInterval(rightMove,5000);if(isLike){clearInterval(time);time=null}$("#indexobjectclick,.object-show-box").hover(function(){if(time){clearInterval(time);time=null}},function(){if(!time&&!isLike){time=setInterval(rightMove,5000)}});$("#loginLoading").load("/user/loginheader.aspx?"+Math.random());initData();$("#indexobjectclick li a").hover(function(){clearInterval(time);$("#indexobjectclick li").removeClass("current");$(this).parent().addClass("current");var type=$(this).attr("rel");if($("#"+type).html().trim()==""){$("#"+type).html("<div class='index-loading'></div>");var domainIDs=eval("("+$("#hidDomainIDs").val()+")");var domainNames=eval("("+$("#hidDomainNames").val()+")");var domainID=0;if(domainIDs[type]){domainID=domainIDs[type]}var domainName="";if(domainNames[type]){domainName=domainNames[type]}GetObjectData(domainID,domainName,type)}$("#divShowBox").find(".object-show:visible").hide();$("#"+type).show();return false},function(){if(!isLike){time=setInterval("rightMove()",5000)}});$("#btnLeft").on("click",function(){var size=$("#indexobjectclick li").size();var index=$("#indexobjectclick li[class='current']").attr("index");$("#indexobjectclick li").removeClass("current");if(index==0){index=size}var $li=$("#indexobjectclick li[index='"+(parseInt(index)-1)+"']");$li.addClass("current");var $a=$li.find("a");var type=$a.attr("rel");if($("#"+type).html().trim()==""){$("#"+type).html("<div class='index-loading'></div>");var domainIDs=eval("("+$("#hidDomainIDs").val()+")");var domainNames=eval("("+$("#hidDomainNames").val()+")");var domainID=0;if(domainIDs[type]){domainID=domainIDs[type]}var domainName="";if(domainNames[type]){domainName=domainNames[type]}GetObjectData(domainID,domainName,type)}$("#divShowBox").find(".object-show:visible").hide();$("#"+$a.attr("rel")).show();return false});$("#btnRight").on("click",function(){rightMove();return false})});function initData(){var type="indexarticlelist";if($("#"+type).html().trim()==""){$("#"+type).html("<div class='index-loading'></div>");var domainIDs=eval("("+$("#hidDomainIDs").val()+")");var domainNames=eval("("+$("#hidDomainNames").val()+")");var domainID=0;if(domainIDs[type]){domainID=domainIDs[type]}var domainName="";if(domainNames[type]){domainName=domainNames[type]}GetObjectData(domainID,domainName,type)}}function rightMove(){var size=$("#indexobjectclick li").size();var index=$("#indexobjectclick li[class='current']").attr("index");$("#indexobjectclick li").removeClass("current");if(index==size-1){index=-1}var $li=$("#indexobjectclick").find("li[index='"+(parseInt(index)+1)+"']");$li.addClass("current");var $a=$li.find("a");var type=$a.attr("rel");if($("#"+type).html().trim()==""){$("#"+type).html("<div class='index-loading'></div>");var domainIDs=eval("("+$("#hidDomainIDs").val()+")");var domainNames=eval("("+$("#hidDomainNames").val()+")");var domainID=0;if(domainIDs[type]){domainID=domainIDs[type]}var domainName="";if(domainNames[type]){domainName=domainNames[type]}GetObjectData(domainID,domainName,type)}$("#divShowBox").find(".object-show:visible").hide();$("#"+$a.attr("rel")).show();return false}function GetObjectData(a,b,d){$.getJSON("/ajax/indexobjecthtml.ashx",{domainID:a,domainName:b,type:d},function(e){if(e.article){$("#indexarticlelist").html(e.article);c($("#indexarticlelist"),"articlelist")}if(e.journal){$("#indexjournallist").html(e.journal);c($("#indexjournallist"),"journallist")}if(e.subject){$("#indexsubjectlist").html(e.subject);c($("#indexsubjectlist"),"subjectlist")}if(e.organ){$("#indexorganlist").html(e.organ);c($("#indexorganlist"),"organlist")}if(e.fund){$("#indexfundlist").html(e.fund);c($("#indexfundlist"),"fundlist")}if(e.writer){$("#indexwriterlist").html(e.writer);c($("#indexwriterlist"),"writerlist")}if(e.domain){$("#indexdomainlist").html(e.domain);c($("#indexdomainlist"),"domainlist")}if(e.area){$("#indexarealist").html(e.area);c($("#indexarealist"),"arealist")}});function c(f,e){$(f).find("a").each(function(){var g=$(this).attr("href");if(g!=undefined&&g!="/"&&g!=""&&g.indexOf("javascript")==-1&&g!="#"&&g.indexOf("from")==-1){var h=g.indexOf("?")>-1?"&from=":"?from=";$(this).attr("href",g+h+"index_"+e)}})}};